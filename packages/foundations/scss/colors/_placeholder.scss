@use "sass:string";
@use "variables";

@each $variant in variables.$variants {
	%db-#{$variant}-component {
		--db-current-color: var(--db-#{$variant}-bg);
		color: var(--db-current-color);
		background-color: var(--db-#{$variant}-contrast-high);

		&-interactive {
			@extend %db-#{$variant}-component;

			&:hover {
				background-color: var(--db-#{$variant}-contrast-high-hover);
			}

			&:active {
				background-color: var(--db-#{$variant}-contrast-high-pressed);
			}
		}
	}

	%db-#{$variant}-text-interactive {
		--db-current-color: var(--db-#{$variant}-contrast-high);
		color: var(--db-current-color);

		&:enabled {
			&:hover {
				--db-current-color: var(--db-#{$variant}-contrast-high-hover);
			}

			&:active {
				--db-current-color: var(--db-#{$variant}-contrast-high-pressed);
			}
		}
	}

	%db-bg-#{$variant}-variables {
		/* used for transparent backgrounds */
		--db-current-bg-transparent-full: var(
			--db-#{$variant}-bg-transparent-full
		);
		--db-current-bg-transparent-semi: var(
			--db-#{$variant}-bg-transparent-semi
		);
		--db-current-bg-transparent-hover: var(
			--db-#{$variant}-bg-transparent-hover
		);
		--db-current-bg-transparent-pressed: var(
			--db-#{$variant}-bg-transparent-pressed
		);

		/* used for text */
		--db-current-color: var(--db-#{$variant}-on-bg);
		/* used for checkbox:checked */
		--db-current-color-hover: var(--db-#{$variant}-on-bg-hover);
		--db-current-color-pressed: var(--db-#{$variant}-on-bg-pressed);

		/* used as normal backgrounds */
		@if ($variant == "base") {
			--db-current-bg-color: var(--db-#{$variant}-bg);
		} @else {
			--db-current-bg-color: var(--db-#{$variant}-bg-weak);
		}

		/* used for icons and borders */
		--db-current-contrast-low-color: var(--db-#{$variant}-contrast-low);
		--db-current-border-color: var(--db-#{$variant}-border);
	}

	%db-bg-#{$variant} {
		@extend %db-bg-#{$variant}-variables;
		background-color: var(--db-current-bg-color);
		color: var(--db-current-color);

		&-transparent {
			&-full,
			&-semi {
				@extend %db-bg-#{$variant}-variables;
			}

			&-full {
				background-color: var(--db-current-bg-transparent-full);
			}

			&-semi {
				background-color: var(--db-current-bg-transparent-semi);
			}
		}

		&[data-emphasis="weak"] {
			/* used for text */
			--db-current-color: var(--db-#{$variant}-on-bg-weak);
			/* used for checkbox:checked */
			--db-current-color-hover: var(--db-#{$variant}-on-bg-weak-hover);
			--db-current-color-pressed: var(
				--db-#{$variant}-on-bg-weak-pressed
			);
			color: var(--db-current-color);
		}

		&-strong {
			--db-current-color: var(--db-#{$variant}-on-bg);
			--db-current-bg-color: var(--db-#{$variant}-bg-strong);
			--db-current-border-color: var(--db-#{$variant}-border);
			background-color: var(--db-current-bg-color);
			color: var(--db-current-color);

			&-interactive {
				@extend %db-bg-#{$variant}-strong;

				&:hover {
					background-color: var(--db-#{$variant}-bg-strong-hover);
				}

				&:active {
					background-color: var(--db-#{$variant}-bg-strong-pressed);
				}
			}
		}
	}
}
